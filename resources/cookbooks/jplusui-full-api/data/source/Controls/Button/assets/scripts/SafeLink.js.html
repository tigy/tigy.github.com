<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Controls\Button\assets\scripts\SafeLink.js 源码</title>
		<link href="../../assets/styles/prettify.css" type="text/css" rel="stylesheet" />
		<script src="../../assets/scripts/prettify.js" type="text/javascript"></script>
		<style type="text/css">.highlight { display: block; background-color: #ddd; }</style>
</head>
<body onload="setTimeout('prettyPrint()', 0);var node = document.getElementById(location.hash.replace(/#/, ''));if(node)node.className = 'highlight';"><pre class="prettyprint lang-js">/**
 * @author 
 */

imports(&quot;Controls.Button.SafeAnchor&quot;);




var SafeAnthor = Control.extend({

	tpl: '&lt;div class=&quot;x-safeanchor&quot;&gt;\
		&lt;div class=&quot;x-safeanchor-header&quot;&gt;\
			&lt;a href=&quot;#&quot; class=&quot;x-safeanchor-link&quot;&gt;继续访问&lt;/a&gt;\
			&lt;a href=&quot;javascript:;&quot; class=&quot;x-safeanchor-cancel&quot;&gt;取消&lt;/a&gt;\
		&lt;/div&gt;\
		&lt;div class=&quot;x-safeanchor-body&quot;&gt;\
			&lt;div class=&quot;x-safeanchor-content&quot;&gt;\
				 该链接已超出本站范围，可能有一定风险。     原网址为：&lt;span class=&quot;x-safeanchor-text&quot;&gt;&lt;/span&gt;\
			&lt;/div&gt;\
		&lt;/div&gt;\
	&lt;/div&gt;',
	
	setHref: function(href, target){
		this.find('.x-safeanchor-link').node.href = href;
		this.find('.x-safeanchor-link').node.target = target;
		this.find('.x-safeanchor-text').setText(href);
		this.on('click', this.close, this);
		
		return this;
	},
	
	showBy: function(elem){
		elem = Dom.get(elem)
		this.appendTo();
		var pos = elem.getPosition();
		pos.y += elem.getSize().y;
		pos.x -= 10;
		pos.y += 10;
		this.setPosition(pos);
	},
	
	close: function(){
		this.remove();
	}



});



// 
// Dom.ready(function(){
// 	
	// document.on('click', function(e){
		// var t = e.getTarget();
		// if(t.hasClass('h-link')){
			// new SafeAnthor().setHref(t.node.href, t.node.target).showBy(t);
			// e.stop();
		// }
	// });
// 	
// 	
// 
// });</pre>
</body>
</html>
