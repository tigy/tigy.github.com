<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Controls\Nav\assets\scripts\ScrollToTop.js 源码</title>
		<link href="../../assets/styles/prettify.css" type="text/css" rel="stylesheet" />
		<script src="../../assets/scripts/prettify.js" type="text/javascript"></script>
		<style type="text/css">.highlight { display: block; background-color: #ddd; }</style>
</head>
<body onload="setTimeout('prettyPrint()', 0);var node = document.getElementById(location.hash.replace(/#/, ''));if(node)node.className = 'highlight';"><pre class="prettyprint lang-js">/**
 * @author xuld
 */


using('System.Fx.Animate');
using('Controls.Core.Base');


var ScrollToTop = Control.extend({

    tpl: '&lt;a href=&quot;#&quot; class=&quot;x-scrolltotop&quot; title=&quot;返回顶部&quot;&gt;返回顶部&lt;/a&gt;',

    showDuration: -1,

    scrollDuration: -1,

    minScroll: 130,

    onClick: function (e) {
        e.preventDefault();
        Dom.document.animate({scrollTop: 0}, this.scrollDuration);
    },

    init: function (options) {
        var me = this;
        document.on('scroll', function () {
            if (document.getScroll().y &gt; me.minScroll) {
                me.show(me.showDuration);
            } else {
                me.hide(me.showDuration);
            }
        });
        this.on('click', this.onClick);
		
		if(!this.closest('body')){
			this.appendTo();
		}
    }

});</pre>
</body>
</html>
