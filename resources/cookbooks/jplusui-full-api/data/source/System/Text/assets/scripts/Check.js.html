<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>System\Text\assets\scripts\Check.js 源码</title>
		<link href="../../assets/styles/prettify.css" type="text/css" rel="stylesheet" />
		<script src="../../assets/scripts/prettify.js" type="text/javascript"></script>
		<style type="text/css">.highlight { display: block; background-color: #ddd; }</style>
</head>
<body onload="setTimeout('prettyPrint()', 0);var node = document.getElementById(location.hash.replace(/#/, ''));if(node)node.className = 'highlight';"><pre class="prettyprint lang-js">/**
 * @author aki
 */

using(&quot;System.Text.Base&quot;);

Object.extend(Text, {
	
	<span id="isEmail">/**
	 * 测试字符串是否为邮箱格式.
	 * @param {String} value
	 * @return {Boolean}
	 */</span>
	isEmail: function (value) {
        return /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(value);
    },
	
	<span id="isInteger">/**
	 * 判断一个值是否为整数。
	 * @param {Object} value
	 */</span>
	isInteger:function(value){
	    return /^[-]?\d+$/.test(value);
	},
	
	isDate: function (value){
   		var result=str.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2})$/);
   		if(result==null) return false;
   		var d=new Date(result[1], result[3]-1, result[4]);
   		return (d.getFullYear()==result[1] &amp;&amp; d.getMonth()+1==result[3] &amp;&amp; d.getDate()==result[4]);
	},
	
	isLetterOrDight: function (str){
		var result=str.match(/^[a-zA-Z0-9]+$/);
		if(result==null) return false;
		return true;
	},
	
	isUrl: function(){
		var strRegex = &quot;/^((https|http|ftp|rtsp|mms)?://)&quot; 
			+ &quot;?(([0-9a-z_!~*'().&amp;=+$%-]+: )?[0-9a-z_!~*'().&amp;=+$%-]+@)?&quot;
			+ &quot;(([0-9]{1,3}.){3}[0-9]{1,3}&quot;  
			+ &quot;|&quot; 
			+ &quot;([0-9a-z_!~*'()-]+.)*&quot; 
			+ &quot;([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].&quot; 
			+ &quot;[a-z]{2,6})&quot; 
			+ &quot;(:[0-9]{1,4})?&quot; 
			+ &quot;((/?)|&quot; 
			+ &quot;(/[0-9a-z_!~*'().;?:@&amp;=+$,%#-]+)+/?)$/&quot;;
		var re=new RegExp(strRegex);
		return re.test(value); 
	},
	
	<span id="checkLevel">/**
	 * 检查一个密码的复杂度。 
	 * @param {Object} value
	 * @return {Number} 数字越大，复杂度越高。 这个数字在 0 - 5 变化。
	 */</span>
	checkLevel: function(value){
		return value.replace(/^(?:(?=.{4})(?=.*([a-z])|.)(?=.*([A-Z])|.)(?=.*(\d)|.)(?=.*(\W)|.).*|.*)$/, &quot;$1$2$3$4&quot;).length;
	},

	<span id="isNotEmpty">/**
	 * 检查一个字符串是否为空。 
	 * @param {String} value
	 */</span>
	isNotEmpty: function(value){
		return value.length &gt; 0;
	},

	<span id="isUserName">/**
	 * 判断是否为合法用户名。合法的用户名必须是非数字开头的 字母、_、数字、中文。
	 * @param {Object} value
	 */</span>
	isUserName: function(value){
		return /^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/.test(value);
	},
	
	isIP:function (value) { 
		if(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g.test(value)){ 
			if( RegExp.$1 &lt;256 &amp;&amp; RegExp.$2&lt;256 &amp;&amp; RegExp.$3&lt;256 &amp;&amp; RegExp.$4&lt;256) return true; 
		} 
		return false; 
	}
		
}); </pre>
</body>
</html>
