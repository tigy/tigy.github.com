<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>System\Browser\assets\scripts\LocalStorage.js 源码</title>
		<link href="../../assets/styles/prettify.css" type="text/css" rel="stylesheet" />
		<script src="../../assets/scripts/prettify.js" type="text/javascript"></script>
		<style type="text/css">.highlight { display: block; background-color: #ddd; }</style>
</head>
<body onload="setTimeout('prettyPrint()', 0);var node = document.getElementById(location.hash.replace(/#/, ''));if(node)node.className = 'highlight';"><pre class="prettyprint lang-js">/**
 * @author 
 */


using(&quot;System.Browser.Cookie&quot;);
using(&quot;System.Data.JSON&quot;);


Object.extend(Browser, {
	
	setData: window.localStorage ? function(name, value){
		localStorage[name] = value;
		return value;
	} : Browser.setCookie,
	
	getData: window.localStorage ? function (name) {
		return localStorage[name];
	} : Browser.getCookie,
	
	setJSON: function (name, value) {
		Browser.setData(name, JSON.encode(value));
		return value;
	},
	
	getJSON: function (name) {
		name = Browser.getData(name);
		if(name)
			try{
				return JSON.decode(name);
			}catch(e){}
			
		
		return null;
	}
	
});</pre>
</body>
</html>
