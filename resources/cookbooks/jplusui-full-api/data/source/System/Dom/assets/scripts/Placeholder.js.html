<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>System\Dom\assets\scripts\Placeholder.js 源码</title>
		<link href="../../assets/styles/prettify.css" type="text/css" rel="stylesheet" />
		<script src="../../assets/scripts/prettify.js" type="text/javascript"></script>
		<style type="text/css">.highlight { display: block; background-color: #ddd; }</style>
</head>
<body onload="setTimeout('prettyPrint()', 0);var node = document.getElementById(location.hash.replace(/#/, ''));if(node)node.className = 'highlight';"><pre class="prettyprint lang-js">


using('System.Dom.Base')


Dom.implement({
	
	<span id="placeholder">/**
	 * 设置当文本框空的时候，显示的文本。
	 */</span>
	placeholder: function (value) {
		var dom = this.node.form;

		function hidePlaceHolder() {
			if (this.getText() === value) {
				this.removeClass('placeholder');
				this.setText('');
			}
		}

		function showPlaceHolder() {
			if (!this.getText()) {
				this.setText(value);
				this.addClass('placeholder');
			}
		}

		this.on('focus', hidePlaceHolder);
		this.on('blur', showPlaceHolder);

		if (dom) {
			Dom.get(dom).on('submit',hidePlaceHolder, this);
		}



		hidePlaceHolder.call(this);
		showPlaceHolder.call(this);
	}

});</pre>
</body>
</html>
