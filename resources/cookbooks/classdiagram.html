<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>jPlusUI 类图</title>
    <link href="../../assets/dpl/assets/base.css" rel="stylesheet">
    <script src="../../assets/demo/demo.js" type="text/javascript"></script>
</head>
<body class="demo-doc">
    <article class="demo">

        <h2 class="demo">控件 API 设计</h2>

        <section class="demo">

            <h3 class="demo">组件系统的功能</h3>

            <p class="demo">组件系统就像是 jPlusUI 的后勤服务部，它让组件开发使用更轻松。组件系统源文件存放在项目跟目录的 assets/ 目录。它主要提供以下几个主要功能：</p>

            <ol class="demo">
                <li>提供常用的组件演示工具。（如本页面顶部的导航就是组件系统自动生成的）</li>
                <li>自动列出组件列表。<a href="../../src/index.html" target="_blank" class="demo">查看生成的列表</a></li>
                <li>新增/删除/标记组件。</li>
                <li>组件合成。（点击右上角工具/组件合成工具)</li>
                <li>常用开发工具。（点击右上角工具）</li>
            </ol>

        </section>

    </article>

    <article class="demo">

        <h2 class="demo">组件演示功能</h2>

        <p class="demo">开发一个组件，总需要向用户展示这个组件是什么，最好组件下面能有个查看源码的按钮，用户可以点击这个按钮复制示例代码。</p>

        <section class="demo">

            <h3 class="demo">选择模式</h3>

            <script class="demo" type="text/plain">
                selectItem(item) { 
                    // raise selecting & change event. call onSelect after value set.
                    if trigger('selecting', item)
                        setSelectedItem(item)
                        if changed
                            trigger('change')
                }

                setSelectedItem(item) {
                    // do not raise any events.
                }
            </script>

        </section>

        <section class="demo">

            <h3 class="demo">组件演示页面的基本结构</h3>

            <script class="demo demo-noformat" type="pre/html">
                <body>
                    <article class="demo">
                        <h2 class="demo">大标题</h2>

                        <section class="demo">
                            <h3 class="demo">标题1</h3>
                            
                            <p class="demo">说明文字</p>
                        </section>

                        <section class="demo">
                            <h3 class="demo">标题2</h3>
                            
                            <p class="demo">说明文字</p>
                        </section>
                    </article>
                </body>
            </script>

            <p class="demo">用于演示的标签应该加上 <code class="demo">class="demo"</code>。其中, <code class="demo">article.demo</code> 用于保证全部内容是 980px 居中的。</p>

        </section>

        <section class="demo">

            <h3 class="demo">组件系统内置的 css 类</h3>

            <p class="demo">组件演示系统内置了很多常用的css类，供演示用。所有样式均在 <code class="demo">assets/demo/demo.css</code> 定义。</p>

            <dl class="demo">
                <dt>位置</dt>
                <dd><code class="demo">demo-left</code>: 左浮动</dd>
                <dd><code class="demo">demo-center</code>: 居中</dd>
                <dd><code class="demo">demo-right</code>: 右浮动</dd>
                <dd><code class="demo">demo-clear</code>: 清除浮动</dd>
                <dt>显示</dt>
                <dd><code class="demo">demo-inline</code>: 内联</dd>
                <dd><code class="demo">demo-block</code>: 块</dd>
                <dd><code class="demo">demo-inline-block</code>: 内联块</dd>
                <dd><code class="demo">demo-hide</code>: 隐藏元素（display:none)</dd>
                <dt>定位</dt>
                <dd><code class="demo">demo-relative</code>: 相对定位</dd>
                <dd><code class="demo">demo-absolute</code>: 绝对定位</dd>
                <dd><code class="demo">demo-fixed</code>: 固定定位</dd>
                <dt>颜色</dt>
                <dd><code class="demo">demo-white/demo-c0</code>: <span class="demo-white">白色</span></dd>
                <dd><code class="demo">demo-red/demo-c1</code>: <span class="demo-red">红色</span></dd>
                <dd><code class="demo">demo-orange/demo-c2</code>: <span class="demo-orange">橙色</span></dd>
                <dd><code class="demo">demo-yellow/demo-c3</code>: <span class="demo-yellow">黄色</span></dd>
                <dd><code class="demo">demo-green/demo-c4</code>: <span class="demo-green">绿色</span></dd>
                <dd><code class="demo">demo-indigo/demo-c5</code>: <span class="demo-indigo">青色</span></dd>
                <dd><code class="demo">demo-blue/demo-c6</code>: <span class="demo-blue">蓝色</span></dd>
                <dd><code class="demo">demo-purple/demo-c7</code>: <span class="demo-purple">紫色</span></dd>
                <dd><code class="demo">demo-black/demo-c8</code>: <span class="demo-black">黑色</span></dd>
                <dt>杂项</dt>
                <dd><code class="demo">demo-plain</code>: 重置 margin=0, padding=0</dd>
                <dd><code class="demo">demo-row</code>: margin-bottom=10px</dd>
                <dt>盒子模型</dt>
            </dl>

            <div class="demo-container" title="demo-container">
                <div class="demo-area" title="demo-area">demo-area 区域</div>
                <div class="demo-box-small" title="demo-box-small">小盒子</div>
                <div class="demo-box" title="demo-box">盒子</div>
                <div class="demo-box-large" title="demo-box-large">demo-box-large 大盒子</div>
            </div>

        </section>

        <section class="demo">

            <h3 class="demo">显示代码</h3>

            <p class="demo">本组件系统提供了6种方式来显示代码。</p>

            <script class="demo" type="text/plain">
                <script class="demo" type="pre/html">
                    这里直接写 HTML 代码
                </\script>
            </script>

            <script class="demo" type="text/plain">
                <script class="demo" type="pre/javascript">
                    这里直接写 JavaScript 代码
                </\script>
            </script>

            <script class="demo" type="text/plain">
                <script class="demo" type="text/html">
                    这里的 HTML 代码将被显示，下面将显示 查看源码的按钮。
                </\script>
            </script>

            <script class="demo" type="text/plain">
                <script class="demo" type="text/javascript">
                    这里的 JavaScript 代码将被执行。
                </\script>
            </script>

            <script class="demo" type="text/plain">
                <aside class="demo">
                    这里的 HTML 代码将被显示，源码下面将显示 查看源码的按钮。
                </aside>
            </script>

            <script class="demo" type="text/plain">
                <pre class="demo">
                    这里写代码。
                </pre>
            </script>

            <p class="demo">如果需要在 <code class="demo">&lt;script&gt;</code> 标签内书写 <code class="demo">&lt;script&gt;</code> 标签，应该写成： <code class="demo">&lt;\script&gt;</code> 和 <code class="demo">&lt;\/script&gt;</code>。如果不希望代码被格式化显示，需要为 <code class="demo">&lt;script&gt;</code> 增加 class=“<code class="demo">demo-noformat</code>”</p>
        </section>

        <section class="demo">

            <h3 class="demo">显示测试用例</h3>

            <script class="demo demo-noformat" type="pre/javascript">
                Demo.writeTestCases({
                    // 情况1： 后面是 ‘-’
                    '分组': '-', // 表示这是一个分组信息。

                    // 情况2： 后面是一个函数。
                    '普通的测试': function(){
                        // 点击之后执行此函数。	
                    },
			
                    // 情况3：后面是一个字符串。
                    '简单版的测试': 'alert(3)', // 如果函数比较短，可以写成字符串形式。
			
                    // 情况4：后面是一个对象。
                    '完整的测试': {
                        '执行的函数1': 期望的返回值,  // 执行的函数1中的 ~ 也会被替换为测试用例的名字。
                        '执行的函数2': function(value, assert){
	                        // 手动判断 执行的函数2的返回值(即 value) 是否合法，如果不合法，此函数返回 false 。
                        },
                        '执行的函数1': '-' // 仅仅执行函数，不进行测试。
                    }
                })
            </script>

        </section>

        <section class="demo">

            <h3 class="demo">显示问答</h3>

            <script class="demo demo-noformat" type="pre/javascript">
                Demo.writeQuestions({
                    '问题1': [
                        '答案1',
                        '@答案2',   // 正确答案前加 @
                        '答案3',
                        '答案4'
                    ]
                });
            </script>

        </section>

    </article>

    <article class="demo">

        <h2 class="demo">组件列表功能</h2>

        <section class="demo">

            <h3 class="demo">组件列表服务器</h3>

            <p class="demo">服务器的端口配置在 <code class="demo">/assets/demo/demo.js</code> 里。双击根目录的 <code class="demo">startserver</code> 即可启动服务器。以下的所有功能都需要启动本服务器。</p>

        </section>

        <section class="demo">

            <h3 class="demo">组件列表生成</h3>

            <p class="demo">组件系统将扫描 src 目录中的每个 html 文件，并生成对应的列表。生成的列表缓存文件位于 <code class="demo">/assets/data/dpllist.js</code> 。</p>

        </section>

    </article>

    <article class="demo">

        <h2 class="demo">组件合并功能</h2>

        <section class="demo">

            <h3 class="demo">组件合并介绍</h3>

            <p class="demo">组件库中有超过 200 个组件，而实际上是不可能全部用到的。因此需要组件合并工具将用到的组件提取出来，并生成一个新的 js/css 文件，供项目引用。</p>

        </section>

        <section class="demo">

            <h3 class="demo">如何合并组件</h3>

            <p class="demo">点击工具/组件合并工具，然后点击 新建合成方案， 在打开的页面右边输入合成的目标文件信息（如生成的js和css文件位置）。然后在左边选择并添加需要合并的组件（通过组件的路径表示）。最后点击页面底部的保存并生成即可合并。</p>

        </section>

    </article>

</body>
</html>
