<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="dpl-info" content="status=ok">
    <title>对话框</title>

    <link href="../../Controls/Core/assets/styles/Base.css" rel="stylesheet" type="text/css">
    <link href="../../Controls/Part/assets/styles/CloseButton.css" rel="stylesheet" type="text/css" />
    <link href="../../Controls/Part/assets/styles/Mask.css" rel="stylesheet" type="text/css" />
    <link href="../../Controls/Container/assets/styles/Dialog.css" rel="stylesheet" type="text/css" />

    <script src="../../System/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../System/Dom/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/ContainerControl.js" type="text/javascript"></script>
    <script src="../../Controls/Container/assets/scripts/Dialog.js" type="text/javascript"></script>
    
    <script src="../../../assets/demo/demo.js" type="text/javascript"></script>
</head>
<body>
    
    <!--    http://d.lanrentuku.com/down/js/qita-862/   -->

    <article class="demo">

        <h2 class="demo">创建对话框</h2>

        <section class="demo">

            <h3 class="demo">纯 JavaScript 创建最基本的对话框</h3>

            <script class="demo" type="text/javascript">

                // 创建一个新的对话框。
                var dialog = new Dialog();

                // 设置对话框的标题。
                dialog.setTitle('标题');

                // 设置对话框的内容。
                dialog.setContent('<em>内容</em>');

                // 显示对话框。
                dialog.show();
            </script>

        </section>

        <section class="demo">

            <h3 class="demo">将 HTML 渲染为对话框</h3>

            <script class="demo" type="code/html">
               <div id="dialog2">我是对话框2</div>

                <\script>
                
                    // 创建一个新的对话框。
                    var dialog2 = new Dialog('dialog2');

                    // 显示对话框。
                    dialog2.showDialog();
                <\/script>
            </script>

        </section>

        <p class="demo">创建含有确定/取消按钮或者含有一个图标的对话框，请使用 <a href="MessageBox.html">MessageBox</a> 组件。</p>

    </article>

    <article class="demo">

        <script>
            Demo.writeExamples({
                '创建模式对话框（对话框后有阴影）': 'dialog.showDialog(); // 使用此函数显示对话框即可。',
                '关闭对话框': 'dialog.close();'
            });
        </script>

        <h2 class="demo">常用 API</h2>

        <section class="demo">

            <h4 class="demo">创建模式对话框（对话框后有阴影）</h4>

            <script class="demo" type="code/javascript">
                dialog.showDialog(); // 使用此函数显示对话框即可。
            </script>

            <h4 class="demo">关闭对话框</h4>

            <script class="demo" type="code/javascript">
                dialog.close();
            </script>

            <h4 class="demo">删除关闭按钮</h4>

            <script class="demo" type="code/javascript">
                dialog.remove('.x-closebutton');
            </script>

            <h4 class="demo">设置关闭后回调一个函数</h4>

            <script class="demo" type="code/javascript">
                dialog.on('close', function(){
                    alert('对话框已经关闭了');
                });
            </script>

            <h4 class="demo">设置关闭前回调一个函数，并阻止关闭事件</h4>

            <script class="demo" type="code/javascript">
                dialog.on('closing', function(){
                    alert('这个对话框时不允许被关闭的');
                    return false;
                });
            </script>

            <h4 class="demo">设置对话框双击标题后关闭</h4>

            <script class="demo" type="code/javascript">
                dialog.header().on('dblclick', dialog.close, dialog);
            </script>

            <h4 class="demo">让对话框允许拖动标题</h4>

            <script class="demo" type="code/javascript">
                using("System.Dom.Drag");  // 载入拖动模块。
                dialog.draggable(dialog.header());
            </script>

            <h4 class="demo">设置对话框内容的大小</h4>

            <script class="demo" type="code/javascript">
                dialog.setContentSize(300, 100);
            </script>

            <h4 class="demo">设置对话框的位置</h4>

            <script class="demo" type="code/javascript">
                dialog.setPosition(300, 100);
            </script>

            <h4 class="demo">往对话框追加内容</h4>

            <script class="demo" type="code/javascript">
                dialog.body().append('追加的内容');
                dialog.body().append(document.getElementById('id'));
            </script>

        </section>

    </article>

    <article class="demo">

        <h2 class="demo">扩展对话框</h2>

        <p class="demo">网站上经常需要很多相同的对话框，如果每次都是很多代码来初始化对话框，将会比较麻烦，因此最好的方法是继承对话框并将特定的对话框重新封装。</p>

        <script class="demo" type="code/javascript">
            var MyDialog = Dialog.extend({
                
                init: function(options){

                    // 调用父类的对话框 init 函数。
                    this.base('init');

                    this.setTitle('固定的标题');

                    this.setHtml('固定的内容');
                }

            });
        </script>

        <p class="demo">这样，我们就只需 <code class="demo">new MyDialog()</code> 即可。而不需要每次都去设置它的标题和内容。</p>

        <script class="demo" type="code/javascript">
            var dialog3 = new MyDialog();
            dialog3.show();
        </script>

    </article>


    <!--<div class="x-dialog" id="a">
                <div class="x-dialog-header">
                    <a class="x-closebutton">×</a>
                    <h4>header</h4>
                </div>
                <div class="x-dialog-body">
                    <div class="x-dialog-content">A</div>
                </div>
            </div>-->


</body>
</html>
