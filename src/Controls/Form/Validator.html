<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>表单验证</title>

    <link href="../../Controls/Core/assets/styles/Base.css" rel="stylesheet" type="text/css">
    <link href="../../Controls/Form/assets/styles/TextBox.css" rel="stylesheet" type="text/css">
    <link href="../../Controls/Tip/assets/styles/TipBox.css" rel="stylesheet" type="text/css">
    <link href="../../Controls/Form/assets/styles/Validator.css" rel="stylesheet" type="text/css" />

    <script src="../../System/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../System/Dom/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../Controls/Form/assets/scripts/Validator.js" type="text/javascript"></script>

    <script src="../../../assets/demo/demo.js" type="text/javascript"></script>
    <style>
        .x-tip {
            margin: 0 20px;
        }

        h4 {
            font-weight: bold;
            margin: 10px;
            font-size: 20px;
        }

        .x-textbox {
            margin: 5px;
        }
    </style>

</head>
<body>
    <article class="demo">

        <form id="fff" action="?">

            <section class="demo">

                <h3 class="demo">常用验证</h3>

                <aside class="demo">

                    <input type="text" class="x-textbox" name="validator_input1" id="validator_input1" />
                    <span class="x-tipbox"></span>

                    <script>
                        var validator_input1 = new Validator({
                            target: Dom.get('validator_input1'),
                            rules: {

                                // 必填字段。
                                required: true,

                                // 最小长度。
                                minLength: 1,

                                // 最大长度。
                                maxLength: 10,

                                // 自定义正则。
                                pattern: /\d/
                            },

                            // 通过 messages 的同名字段，可自定义错误信息。
                            messages: {
                                pattern: '必须包含一个数字'
                            }
                        });
                    </script>

                </aside>

            </section>

            <section class="demo">

                <h3 class="demo">自定义验证逻辑</h3>

                <aside class="demo">

                    <input type="text" class="x-textbox" name="validator_input2" id="validator_input2" />
                    <span class="x-tipbox"></span>

                    <script>
                        var validator_input2 = new Validator({
                            target: Dom.get('validator_input2'),
                            rules: {

                                // 必填字段。
                                other: function (text, callback) {
                                    return text.toLowerCase() !== 'jplusui' ? '必须输入 jPlusUI' : '';
                                }
                            }
                        });
                    </script>

                </aside>

            </section>

            <section class="demo">

                <h3 class="demo">自定义异步后台验证</h3>

                <aside class="demo">

                    <input type="text" class="x-textbox" name="validator_input3" id="validator_input3" />
                    <span class="x-tipbox"></span>

                    <script>
                        var validator_input3 = new Validator({
                            target: Dom.get('validator_input3'),
                            rules: {

                                // 必填字段。
                                other: function (text, callback) {

                                    // 清除以前的验证信息为 正在验证的状态。
                                    this.updateState(false);

                                    // 通过 AJAX 回调来调用 callback。
                                    // 此处为了演示方便，直接调用。
                                    setTimeout(function () {
                                        callback(text.toLowerCase() !== 'jplusui' ? '必须输入 jPlusUI' : '');
                                    }, 2000);

                                }
                            }
                        });
                    </script>

                </aside>

            </section>

            <section class="demo">

                <h3 class="demo">内置数据类型</h3>

                <p class="demo">下列常用的数据类型验证都可以直接使用。</p>

                <div>
                    email： 
                   
                    <input type="text" class="x-textbox" id="validator_input4_1">
                    <span class="x-tipbox"></span>
                </div>

                <div>
                    number：
                    <input type="text" class="x-textbox" id="validator_input4_2">
                    <span class="x-tipbox"></span>
                </div>

                <div>
                    phone
                    <input type="text" class="x-textbox" id="validator_input4_3">
                    <span class="x-tipbox"></span>
                </div>

                <div>
                    id
                    <input type="text" class="x-textbox" id="validator_input4_4">
                    <span class="x-tipbox"></span>
                </div>

                <div>
                    letter
                    <input type="text" class="x-textbox" id="validator_input4_5">
                    <span class="x-tipbox"></span>
                </div>

                <div>
                    url
                    <input type="text" class="x-textbox" id="validator_input4_6">
                    <span class="x-tipbox"></span>
                </div>

                <div>
                    mobile
                    <input type="text" class="x-textbox" id="validator_input4_7">
                    <span class="x-tipbox"></span>
                </div>

                <div>
                    qq
                    <input type="text" class="x-textbox" id="validator_input4_8">
                    <span class="x-tipbox"></span>
                </div>

                <script>
                    var validator_input4_1 = new Validator({
                        target: Dom.get('validator_input4_1'),
                        rules: {
                            // 必须为邮箱地址。
                            type: 'email'
                        }
                    });
                    var validator_input4_2 = new Validator({
                        target: Dom.get('validator_input4_2'),
                        rules: {
                            type: 'number'
                        }
                    });
                    var validator_input4_3 = new Validator({
                        target: Dom.get('validator_input4_3'),
                        rules: {
                            type: 'phone'
                        }
                    });
                    var validator_input4_4 = new Validator({
                        target: Dom.get('validator_input4_4'),
                        rules: {
                            type: 'id'
                        }
                    });
                    var validator_input4_5 = new Validator({
                        target: Dom.get('validator_input4_5'),
                        rules: {
                            type: 'letter'
                        }
                    });
                    var validator_input4_6 = new Validator({
                        target: Dom.get('validator_input4_6'),
                        rules: {
                            type: 'url'
                        }
                    });
                    var validator_input4_7 = new Validator({
                        target: Dom.get('validator_input4_7'),
                        rules: {
                            type: 'mobile'
                        }
                    });
                    var validator_input4_8 = new Validator({
                        target: Dom.get('validator_input4_8'),
                        rules: {
                            type: 'qq'
                        }
                    });
                </script>

            </section>
    </article>

</body>
</html>
