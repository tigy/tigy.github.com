<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="dpl-info" content="status=complete">
    <title>组合框</title>

    <link href="../../Controls/Core/assets/styles/Base.css" rel="stylesheet" type="text/css">
    <link href="../../Controls/Core/assets/styles/IDropDownOwner.css" rel="stylesheet" type="text/css" />
    <link href="../../Controls/Button/assets/styles/Button.css" rel="stylesheet" type="text/css" />
    <link href="../../Controls/Button/assets/styles/MenuButton.css" rel="stylesheet" type="text/css" />
    <link href="../../Controls/Form/assets/styles/TextBox.css" rel="stylesheet" type="text/css" />
    <link href="../../Controls/Form/assets/styles/ListBox.css" rel="stylesheet" type="text/css" />
    <link href="../../Controls/Suggest/assets/styles/Picker.css" rel="stylesheet" type="text/css" />

    <link href="../../Controls/Part/assets/styles/Icon.css" rel="stylesheet" type="text/css" />

    <script src="../../System/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../System/Dom/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../System/Dom/assets/scripts/Align.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/IDropDownOwner.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/IInput.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/ListControl.js" type="text/javascript"></script>
    <script src="../../Controls/Form/assets/scripts/TextBox.js" type="text/javascript"></script>
    <script src="../../Controls/Suggest/assets/scripts/Picker.js" type="text/javascript"></script>
    <script src="../../Controls/Suggest/assets/scripts/ComboBox.js" type="text/javascript"></script>

    <script src="../../../assets/demo/demo.js" type="text/javascript"></script>
</head>
<body>
    <article class="demo">

        <p class="demo">ComboBox 用于美化 <a href="../Form/Select.html">Select</a> 控件。另参考 <a href="../Button/MenuButton.html">MenuButton</a> 。</p>

        <h2 class="demo">创建控件</h2>

        <section class="demo">

            <h3 class="demo">最简单方式： 基于 &lt;select&gt; 创建</h3>

            <p class="demo">让 ComboBox 成为 Select 的代理， Select 的 placeholder onclick onchange readonly disabled 属性会被复制。</p>

            <script class="demo demo-noformat demo-expand" type="text/html">
                <select id="demo1" name="demo1-name">
                    <option value="1">选项1</option>
                    <option value="2" selected="selected">选项2</option>
                </select>
                <\script>
                    var demo1 = new ComboBox("demo1");
                <\/script>
            </script>

        </section>

        <section class="demo">

            <h3 class="demo">基于 &lt;input&gt; 创建</h3>

            <p class="demo">在此模式下，用户   允许输入额外的文本值，并且 input 本身将被作为表单值提交。</p>

            <script class="demo demo-expand" type="text/html">
                <input type="text" class="x-textbox" id="demo2" />
                <\script>
                    var demo2 = new ComboBox("demo2");
                    demo2.add("这是通过 add 添加的 0");
                    demo2.add("这是通过 add 添加的 1");
                <\/script>
            </script>

            <p class="demo">&nbsp;</p>

            <p class="demo">&nbsp;</p>

        </section>

        <section class="demo">

            <h3 class="demo">通过完整方式创建</h3>

            <aside class="demo demo-expand">
                <span class="x-picker" id="demo3">
                    <a href="javascript:;" class="x-button">B</a>
                    <button class="x-button"><span class="x-menubutton-arrow"></span></button>
                </span>

                <ul class="x-dropdown x-listbox">
                    <li>预定义的选项</li>
                </ul>
                <script>
                    var demo3 = new ComboBox("demo3");
                </script>
            </aside>

        </section>

        <section class="demo">

            <h3 class="demo">通过 HTML 方式定义菜单</h3>

            <script class="demo demo-expand" type="text/html">
                <input type="text" class="x-textbox" value="文本框" id="demo4" />

                <ul class="x-dropdown x-listbox">
                    <li>预定义的选项</li>
                </ul>
                <\script>
                    var demo4 = new ComboBox("demo4");
                <\/script>
            </script>

        </section>

        <p class="demo">Combobox 完整的创建方法文档参考 <a href="Picker.html">Picker</a>。</p>

    </article>
    
    <article class="demo">

        <h2 class="demo">常用 API</h2>

        <section class="demo demo-control demo-absolute">

            <script class="demo" type="text/html">

                <select id="a" name="demo1-name">
                    <option value="1">选项1</option>
                    <option value="2" selected="selected">选项2</option>
                </select>
                <\script>
                    var a = new ComboBox("a");
                <\/script>
                
            </script>

            <div class="demo" style="height:340px;"></div>

            <script class="demo" type="text/html">
                <input type="text" class="x-textbox" id="b" />
                <\script>
                    var b = new ComboBox("b");
                <\/script>
            </script>

        </section>

        <section class="demo demo-api">

            <script>

                Demo.writeTestCases({
                    '列表模式': '-',
                    '增加一项': 'a.add("<em>这是通过 add 插入的</em>").setAttr("data-value", "VAL")',

                    '获取选中的值': 'a.getText()',
                    '获取当前选中的索引': 'a.getSelectedIndex()',
                    '设置当前选中的索引': 'a.setSelectedIndex(1)',
                    '设置被选中后执行': 'a.on("select", function(){alert("值被选中了")})',
                    '设置值更改后执行': 'a.on("change", function(){alert("值被改变了")})',

                    '设置禁用': 'a.setAttr("disabled", true)',
                    '取消禁用': 'a.setAttr("disabled", false)',
                    '获取禁用状态': 'a.getAttr("disabled")',

                    '设置只读': 'a.setAttr("readOnly", true)',
                    '取消只读': 'a.setAttr("readOnly", false)',
                    '获取只读状态': 'a.getAttr("readOnly")',

                    '自动调整宽度以适应下拉菜单的大小': 'a.resizeToFitItems()'
                });

                Demo.writeTestCases({
                    '输入模式': '-',

                    '增加一项': 'b.add("<em>这是通过 add 插入的</em>")',
                    '获取当前文本框的值': 'b.getText()',

                    '获取当前选中的索引': 'b.getSelectedIndex()',
                    '设置当前选中的索引': 'b.setSelectedIndex(1)',
                    '设置被选中后执行': 'b.on("select", function(){alert("值被选中了")})',
                    '设置值更改后执行': 'b.on("change", function(){alert("值被改变了")})',

                    '设置禁用': 'b.setAttr("disabled", true)',
                    '取消禁用': 'b.setAttr("disabled", false)',
                    '获取禁用状态': 'b.getAttr("disabled")',

                    '设置只读': 'b.setAttr("readOnly", true)',
                    '取消只读': 'b.setAttr("readOnly", false)',
                    '获取只读状态': 'b.getAttr("readOnly")'
                });
            </script>

        </section>

    </article>

</body>
</html>
