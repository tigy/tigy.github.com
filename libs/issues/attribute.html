<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>J+ Library</title>
		<script src="../../system/core/assets/scripts/base.js" type="text/javascript"></script>
		<script src="../../system/dom/assets/scripts/base.js" type="text/javascript"></script>
		<script src="../../libs/jquery/assets/scripts/jquery.js" type="text/javascript"></script>
        <script src="../../assets/demo/demo.js" type="text/javascript"></script>
	</head>
	<body>
	    
	    <div id="a" myData="myData" data-c="myData" class="class">div#a</div>
        
        <a id="b" href="#href">a#b</a>

        <input type="text" id="c" value="input[type='text']#c" />

        <input type="checkbox" checked="checked" id="d" value="input[type='text']#d" title="input[type='text']#d" />

        <button value="button-value" id="e">
            button#e
        </button>
        
        <textarea id="f">textarea#f</textarea>
           
        <select id="g">
            <option value="option-value1">#g option[1]</option>
            <option value="option-value2" selected="selected">#g option[2]</option>
        </select>
        
        <form id="h">
            form#h
            <input type="text" name="id" id="id" value="[name='id']#id">
            <input type="text" name="length" id="length" value="[name='length']#length">
            <input type="text" name="action" id="action" value="[name='action']#action">
            <input type="text" name="innerHTML" id="innerHTML" value="[name='innerHTML']#innerHTML">
        </form>
        
        <script>
            var a = Dom.get('a');
            var b = Dom.get('b');
            var c = Dom.get('c');
            var d = Dom.get('d');
            var e = Dom.get('e');
            var f = Dom.get('f');
            var g = Dom.get('g');
            var h = Dom.get('h');
        </script>
        
        <script>
            
            Demo.writeTestCases((function (arr) {
                var obj = {}, datas = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];
                arr.forEach(function(value){
                   datas.forEach(function(data){
                       this[value.replace('dom', 'window.' + data).replace('node', 'window.' + data + '.node')] = '-';
                   }, obj[value] = {});
                });
                
                return obj;
            })([
                'Dom.getAttr(node, "title")',
                'Dom.getAttr(node, "value")',
                'Dom.getAttr(node, "id")',
                'Dom.getAttr(node, "tabIndex")',
                'Dom.getAttr(node, "checked")',
                'Dom.getAttr(node, "class")'
             ]));
        </script>

	    
	    <div class="demo-doc">
	        
		<p>文/xuld</p>
		<h3>背景</h3>
		<p>Attribute 是 DOM 节点的属性， Property 是 DOM 对象的属性。 </p>
		<h3>问题描述</h3>
		<p>DOM 对象有一个 getAttribute 方法，这个方法返回 DOM 节点的属性，。</p>
		<p>看一个例子：
			<div id="ct">
				<div id="a" myData="b" data-c="c" class="box purple">
					这是节点
				</div>
				<a href="#" id="b"></a>
				<form id="c"><input type="text" name="id" id="aaa"></form>
			</div>
			<script>
				// var node = document.getElementById('a');
// 				
				// //   Property
				// console.log("myData => ",  node.myData);
// 				
				// //   Attribute
				// console.log("getAttribute('myData') => ",  node.getAttribute('myData'));
				// console.log("getAttributeNode('myData').nodeValue => ",  node.getAttributeNode('myData').nodeValue);
// 				
				// console.log("className => ",  node.className);
				// console.log("getAttribute('class') => ",  node.getAttribute('class'));
				// console.log("getAttributeNode('class').nodeValue => ",  node.getAttributeNode('class').nodeValue);
// 				
				 // node = document.getElementById('b');
// 				
				// console.log("href => ",  node.href);
				// console.log("getAttribute('href') => ",  node.getAttribute('href'));
				// console.log("getAttribute('href', 2) => ",  node.getAttribute('href', 2));
				// console.log("getAttributeNode('href').nodeValue => ",  node.getAttributeNode('href').nodeValue);
// 				
				 // node = document.getElementById('c');
// 				 
				// console.log("id => ",  node.id);
				// console.log("getAttribute('id') => ",  node.getAttribute('id'));
				// console.log("getAttributeNode('id').nodeValue => ",  node.getAttributeNode('id').nodeValue);
// 				 
// 
// 
				// var a = Dom.get('aaa'); 
// 			
			</script>
			</p>
		<p>从例子推测： IE 混淆了2个属性。</p>
		<p>另外，如果表单元素存在name等于属性名的节点， 则 表单的 property 指向所在的节点。</p>
		<h3>解决目标</h3>
		<ol>
			<li>
				实现各个浏览器兼容的 CloneNode 事件: 复制节点
			</li>
			<li>
				当复制 &lt;select&gt;等输入框时，同时复制内容。
			</li>
			<li>
				支持事件复制。
			</li>
		</ol>
		<h3>解决方案</h3>
		<p>定义清除的复制方式。</p>

        </a>
        </div>
	</body>
</html>
